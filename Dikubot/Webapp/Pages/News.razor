@inject UserService _userService;
@page "/news"
@using global::Discord.WebSocket
@using Dikubot.Webapp.Shared.News

<MudText Typo="Typo.h3">Nyheder</MudText>
@if (_loaded)
{
    <NewsList Guild="@(new SocketGuildDto(_guild))"></NewsList>
}
else
{
    <Loading></Loading>
}

@code {
    private bool _loaded;
    private SocketGuild _guild;

    protected override async Task OnInitializedAsync()
    {
        _guild = _userService.GetGuild();
        _loaded = true;
    }

}