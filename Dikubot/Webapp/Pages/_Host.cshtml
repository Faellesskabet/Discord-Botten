@page "/"
@namespace Dikubot.Webapp.Pages
@model Dikubot.Webapp.Pages._HostModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
    <title>KULiv</title>
    <base href="~/"/>
    <link href="css/site.css" rel="stylesheet"/>
    <link rel="stylesheet" href="Dikubot.styles.css"/>
    <link rel="stylesheet" href="css/diku/footer.css"/>
</head>
<body>

<component type="typeof(App)" render-mode="Server" param-AuthCode="@Model.AuthCode"/>

<div id="blazor-error-ui">
    <div id="components-reconnect-modal">
        There was a problem with the connection!
    </div>
    <environment include="Staging,Production">
        An error has occurred. This application may no longer respond until reloaded.
    </environment>
    <environment include="Development">
        An unhandled exception has occurred. See browser dev tools for details.
    </environment>
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

<script>
function getCookie(name) {
    var dc = document.cookie;
    var prefix = name + "=";
    var begin = dc.indexOf("; " + prefix);
    if (begin == -1) {
        begin = dc.indexOf(prefix);
        if (begin != 0) return null;
    }
    else
    {
        begin += 2;
        var end = document.cookie.indexOf(";", begin);
        if (end == -1) {
        end = dc.length;
        }
    }
    // because unescape has been deprecated, replaced with decodeURI
    //return unescape(dc.substring(begin + prefix.length, end));
    return decodeURI(dc.substring(begin + prefix.length, end));
}

if (getCookie(".AspNetCore.Cookies") == null) {
      const d = new Date();
      d.setTime(d.getTime() + (exdays*24*60*60*1000));
      let expires = "expires="+ d.toUTCString();
      document.cookie = ".AspNetCore.Cookies" + "=" + "0" + ";" + expires + ";path=/";
   }

</script>
<script src="_framework/blazor.server.js"></script>
</body>
</html>
